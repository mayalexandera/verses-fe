{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"../actions/actionTypes\";\nexport const addProductToCart = (product_id, size_id, size) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.post(`/users/${user}/cart/cart_items`, {\n    product_id: JSON.stringify(product_id),\n    size_id: size_id,\n    size: size\n  }).then(resp => {\n    dispatch({\n      type: actionTypes.ADD_PRODUCT_TO_CART,\n      payload: resp.data\n    });\n  }).catch(err => dispatch(addProductToCartFailed(err)));\n};\nexport const updateCartProductQty = (cart_item, quantity, size) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.patch(`/users/${user}/cart/cart_items/${cart_item.id}`, {\n    cart_item_id: JSON.stringify(cart_item.id),\n    cart_id: JSON.stringify(cart_item.cart_id),\n    product_id: JSON.stringify(cart_item.product_id),\n    value: quantity,\n    type: \"quantity\"\n  }).then(resp => {\n    dispatch({\n      type: actionTypes.UPDATE_CART_PRODUCT_QTY,\n      payload: resp.data\n    });\n  }).catch(err => dispatch(addProductToCartFailed(err)));\n};\nexport const updateCartProductSize = (cart_item, size) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.patch(`users/${user}/cart/cart_items/${cart_item.id}`, {\n    cart_item_id: JSON.stringify(cart_item.id),\n    cart_id: JSON.stringify(cart_item.cart_id),\n    product_id: JSON.stringify(cart_item.product_id),\n    value: size,\n    type: \"size\"\n  }).then(resp => {\n    dispatch({\n      type: actionTypes.UPDATE_CART_PRODUCT_SIZE,\n      payload: resp.data\n    });\n  }).catch(err => dispatch(addProductToCartFailed(err)));\n};\nexport const addCartToFavorite = (product_id, size_id, size, cart_item_id) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.post(`/users/${user}/favorites`, {\n    product_id: JSON.stringify(product_id),\n    size_id: JSON.stringify(size_id),\n    size: size,\n    cart_item_id: JSON.stringify(cart_item_id)\n  });\n  dispatch(removeProductFromCart(cart_item_id));\n};\nexport const initCart = () => async (dispatch, getState) => {\n  dispatch(startFetchCart());\n  let user = getState().auth.userId;\n  await api.get(`/users/${user}/cart`).then(response => {\n    dispatch(setCart(response.data));\n  }).catch(error => {\n    dispatch(fetchCartFailed(error));\n  });\n};\nexport const startFetchCart = () => {\n  return {\n    type: actionTypes.START_FETCH_CART\n  };\n};\nexport const refreshCart = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.delete(`/users/${user}/cart/refresh`).then(response => dispatch(setCart(response)));\n};\nexport const fetchCartFailed = error => {\n  return {\n    type: actionTypes.FETCH_CART_FAILED,\n    payload: error\n  };\n};\nexport const addProductToCartFailed = error => {\n  return {\n    type: actionTypes.ADD_PRODUCT_TO_CART_FAILED,\n    payload: error\n  };\n};\nexport const setCart = cart => {\n  return {\n    type: actionTypes.SET_CART,\n    payload: cart\n  };\n};\nexport const removeProductFromCart = cart_item_id => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.delete(`/users/${user}/cart/cart_items/${cart_item_id}`, {\n    params: {\n      cart_item_id: JSON.stringify(cart_item_id)\n    }\n  }).then(response => {\n    dispatch({\n      type: actionTypes.REMOVE_PRODUCT_FROM_CART,\n      payload: response.data\n    });\n  });\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/CartActions.js"],"names":["api","actionTypes","addProductToCart","product_id","size_id","size","dispatch","getState","user","auth","userId","post","JSON","stringify","then","resp","type","ADD_PRODUCT_TO_CART","payload","data","catch","err","addProductToCartFailed","updateCartProductQty","cart_item","quantity","patch","id","cart_item_id","cart_id","value","UPDATE_CART_PRODUCT_QTY","updateCartProductSize","UPDATE_CART_PRODUCT_SIZE","addCartToFavorite","removeProductFromCart","initCart","startFetchCart","get","response","setCart","error","fetchCartFailed","START_FETCH_CART","refreshCart","delete","FETCH_CART_FAILED","ADD_PRODUCT_TO_CART_FAILED","cart","SET_CART","params","REMOVE_PRODUCT_FROM_CART"],"mappings":"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","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"../actions/actionTypes\";\n\nexport const addProductToCart = (product_id, size_id, size) => async (\n  dispatch,\n  getState\n) => {\n  let user = getState().auth.userId;\n  await api\n    .post(`/users/${user}/cart/cart_items`, {\n      product_id: JSON.stringify(product_id),\n      size_id: size_id,\n      size: size\n    })\n    .then((resp) => {\n      dispatch({\n        type: actionTypes.ADD_PRODUCT_TO_CART,\n        payload: resp.data,\n      });\n    })\n    .catch((err) => dispatch(addProductToCartFailed(err)));\n};\n\nexport const updateCartProductQty = (cart_item, quantity, size) => async (\n  dispatch,\n  getState\n) => {\n  let user = getState().auth.userId;\n  await api\n    .patch(`/users/${user}/cart/cart_items/${cart_item.id}`, {\n      cart_item_id: JSON.stringify(cart_item.id),\n      cart_id: JSON.stringify(cart_item.cart_id),\n      product_id: JSON.stringify(cart_item.product_id),\n      value: quantity,\n      type: \"quantity\",\n    })\n    .then((resp) => {\n      dispatch({\n        type: actionTypes.UPDATE_CART_PRODUCT_QTY,\n        payload: resp.data,\n      });\n    })\n    .catch((err) => dispatch(addProductToCartFailed(err)));\n};\n\nexport const updateCartProductSize = (cart_item, size) => async (\n  dispatch,\n  getState\n) => {\n  let user = getState().auth.userId;\n  await api\n    .patch(`users/${user}/cart/cart_items/${cart_item.id}`, {\n      cart_item_id: JSON.stringify(cart_item.id),\n      cart_id: JSON.stringify(cart_item.cart_id),\n      product_id: JSON.stringify(cart_item.product_id),\n      value: size,\n      type: \"size\",\n    })\n    .then((resp) => {\n      dispatch({\n        type: actionTypes.UPDATE_CART_PRODUCT_SIZE,\n        payload: resp.data,\n      });\n    })\n    .catch((err) => dispatch(addProductToCartFailed(err)));\n};\n\nexport const addCartToFavorite = (product_id, size_id, size, cart_item_id) => async (\n  dispatch,\n  getState\n) => {\n  let user = getState().auth.userId;\n  await api.post(`/users/${user}/favorites`, {\n    product_id: JSON.stringify(product_id),\n    size_id: JSON.stringify(size_id),\n    size: size,\n    cart_item_id: JSON.stringify(cart_item_id),\n  });\n  dispatch(removeProductFromCart(cart_item_id));\n};\n\nexport const initCart = () => async (dispatch, getState) => {\n  dispatch(startFetchCart());\n  let user = getState().auth.userId;\n  await api\n    .get(`/users/${user}/cart`)\n    .then((response) => {\n      dispatch(setCart(response.data));\n    })\n    .catch((error) => {\n      dispatch(fetchCartFailed(error));\n    });\n};\n\nexport const startFetchCart = () => {\n  return {\n    type: actionTypes.START_FETCH_CART,\n  };\n};\n\nexport const refreshCart = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api\n    .delete(`/users/${user}/cart/refresh`)\n    .then((response) => dispatch(setCart(response)));\n};\n\nexport const fetchCartFailed = (error) => {\n  return {\n    type: actionTypes.FETCH_CART_FAILED,\n    payload: error,\n  };\n};\n\nexport const addProductToCartFailed = (error) => {\n  return {\n    type: actionTypes.ADD_PRODUCT_TO_CART_FAILED,\n    payload: error,\n  };\n};\n\nexport const setCart = (cart) => {\n  return {\n    type: actionTypes.SET_CART,\n    payload: cart,\n  };\n};\n\nexport const removeProductFromCart = (cart_item_id) => async (\n  dispatch,\n  getState\n) => {\n  let user = getState().auth.userId;\n  await api\n    .delete(`/users/${user}/cart/cart_items/${cart_item_id}`, {\n      params: {\n        cart_item_id: JSON.stringify(cart_item_id)\n      }\n    })\n    .then((response) => {\n      dispatch({\n        type: actionTypes.REMOVE_PRODUCT_FROM_CART,\n        payload: response.data,\n      });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}