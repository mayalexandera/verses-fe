{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"../actions/actionTypes\";\nexport const addProductToCart = (product_id, size) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.post(`/users/${user}/cart/cart_items`, {\n    product_id: JSON.stringify(product_id),\n    size: size\n  }).then(resp => {\n    console.log(resp.data);\n    dispatch({\n      type: actionTypes.ADD_PRODUCT_TO_CART,\n      payload: resp.data\n    });\n  }).catch(err => dispatch(addProductToCartFailed(err)));\n};\nexport const updateCartProductQty = (cart_item_id, quantity) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.post(`/users/${user}/cart/cart_items/${cart_item_id}`, {\n    cart_item_id: JSON.stringify(cart_item_id),\n    quantity: quantity\n  }).then(resp => {\n    console.log(resp.data);\n    dispatch({\n      type: actionTypes.UPDATE_CART_PRODUCT_QTY,\n      payload: resp.data\n    });\n  }).catch(err => dispatch(addProductToCartFailed(err)));\n};\nexport const updateCartProductSize = (cart_item_id, size, product) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.patch(`users/${user}/cart/cart_items/${cart_item_id}`, {\n    cart_item_id: JSON.stringify(cart_item_id),\n    size: size,\n    product: product\n  }).then(resp => {\n    console.log(resp.data); // dispatch({type: actionTypes.UPDATE_CART_PRODUCT_SIZE, payload: resp.data})\n  });\n};\nexport const addCartToFavorite = (product_id, size, cart_item_id) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.post(`/users/${user}/favorites`, {\n    member_id: user,\n    product_id: JSON.stringify(product_id),\n    size: size,\n    cart_item_id: JSON.stringify(cart_item_id)\n  });\n  console.log(cart_item_id);\n  dispatch(removeProductFromCart(cart_item_id));\n};\nexport const initCart = () => async (dispatch, getState) => {\n  dispatch(startFetchCart());\n  let user = getState().auth.userId;\n  await api.get(`/users/${user}/cart`).then(response => {\n    dispatch(setCart(response.data));\n  }).catch(error => {\n    dispatch(fetchCartFailed(error));\n  });\n};\nexport const startFetchCart = () => {\n  return {\n    type: actionTypes.START_FETCH_CART\n  };\n};\nexport const refreshCart = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.delete(`/users/${user}/cart/refresh`).then(response => dispatch(setCart(response)));\n};\nexport const fetchCartFailed = error => {\n  return {\n    type: actionTypes.FETCH_CART_FAILED,\n    payload: error\n  };\n};\nexport const addProductToCartFailed = error => {\n  return {\n    type: actionTypes.ADD_PRODUCT_TO_CART_FAILED,\n    payload: error\n  };\n};\nexport const setCart = cart => {\n  return {\n    type: actionTypes.SET_CART,\n    payload: cart\n  };\n};\nexport const removeProductFromCart = cart_item_id => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.delete(`/users/${user}/cart/cart_items/${cart_item_id}`).then(response => dispatch({\n    type: actionTypes.REMOVE_PRODUCT_FROM_CART,\n    payload: [response.data.total_cost_string, cart_item_id]\n  }));\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/CartActions.js"],"names":["api","actionTypes","addProductToCart","product_id","size","dispatch","getState","user","auth","userId","post","JSON","stringify","then","resp","console","log","data","type","ADD_PRODUCT_TO_CART","payload","catch","err","addProductToCartFailed","updateCartProductQty","cart_item_id","quantity","UPDATE_CART_PRODUCT_QTY","updateCartProductSize","product","patch","addCartToFavorite","member_id","removeProductFromCart","initCart","startFetchCart","get","response","setCart","error","fetchCartFailed","START_FETCH_CART","refreshCart","delete","FETCH_CART_FAILED","ADD_PRODUCT_TO_CART_FAILED","cart","SET_CART","REMOVE_PRODUCT_FROM_CART","total_cost_string"],"mappings":"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","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"../actions/actionTypes\";\n\nexport const addProductToCart = (product_id, size) => async (\n  dispatch, getState\n) => {\n  let user = getState().auth.userId\n  await api\n    .post(`/users/${user}/cart/cart_items`, {\n      product_id: JSON.stringify(product_id),\n      size: size,\n    })\n    .then((resp) => {\n      console.log(resp.data)\n      dispatch({\n        type: actionTypes.ADD_PRODUCT_TO_CART,\n        payload: resp.data,\n      })\n    }\n    )\n    .catch((err) => dispatch(addProductToCartFailed(err)));\n};\n\nexport const updateCartProductQty = (cart_item_id, quantity) => async (\n  dispatch,\n  getState\n) => {\n  let user = getState().auth.userId;\n  await api\n    .post(`/users/${user}/cart/cart_items/${cart_item_id}`, {\n      cart_item_id: JSON.stringify(cart_item_id),\n      quantity: quantity,\n    })\n    .then((resp) => {\n      console.log(resp.data);\n      dispatch({\n        type: actionTypes.UPDATE_CART_PRODUCT_QTY,\n        payload: resp.data,\n      });\n    })\n    .catch((err) => dispatch(addProductToCartFailed(err)));\n};\n\nexport const updateCartProductSize = (cart_item_id, size, product) => async (dispatch, getState) => {\n  let user = getState().auth.userId\n  await api.patch(`users/${user}/cart/cart_items/${cart_item_id}`, {\n    cart_item_id: JSON.stringify(cart_item_id),\n    size: size,\n    product: product\n  })\n  .then(resp => {\n    console.log(resp.data)\n    // dispatch({type: actionTypes.UPDATE_CART_PRODUCT_SIZE, payload: resp.data})\n  })\n}\n\nexport const addCartToFavorite = (\n  product_id,\n  size,\n  cart_item_id\n) => async (dispatch, getState) => {\n  let user = getState().auth.userId\n  await api.post(`/users/${user}/favorites`, {\n    member_id: user,\n    product_id: JSON.stringify(product_id),\n    size: size,\n    cart_item_id: JSON.stringify(cart_item_id),\n  });\n  console.log(cart_item_id);\n  dispatch(removeProductFromCart(cart_item_id));\n};\n\nexport const initCart = () => async (dispatch, getState) => {\n  dispatch(startFetchCart());\n  let user = getState().auth.userId;\n  await api\n    .get(`/users/${user}/cart`)\n    .then((response) => {\n      dispatch(setCart(response.data));\n    })\n    .catch((error) => {\n      dispatch(fetchCartFailed(error));\n    });\n};\n\nexport const startFetchCart = () => {\n  return {\n    type: actionTypes.START_FETCH_CART,\n  };\n};\n\nexport const refreshCart = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api\n    .delete(`/users/${user}/cart/refresh`)\n    .then((response) => dispatch(setCart(response)));\n};\n\nexport const fetchCartFailed = (error) => {\n  return {\n    type: actionTypes.FETCH_CART_FAILED,\n    payload: error,\n  };\n};\n\nexport const addProductToCartFailed = (error) => {\n  return {\n    type: actionTypes.ADD_PRODUCT_TO_CART_FAILED,\n    payload: error,\n  };\n};\n\nexport const setCart = (cart) => {\n  return {\n    type: actionTypes.SET_CART,\n    payload: cart,\n  };\n};\n\nexport const removeProductFromCart = (cart_item_id) => async (\n  dispatch,\n  getState\n) => {\n  let user = getState().auth.userId;\n  await api.delete(`/users/${user}/cart/cart_items/${cart_item_id}`).then(response =>\n    dispatch({\n      type: actionTypes.REMOVE_PRODUCT_FROM_CART,\n      payload: [response.data.total_cost_string, cart_item_id]\n    })\n  );\n};\n"]},"metadata":{},"sourceType":"module"}