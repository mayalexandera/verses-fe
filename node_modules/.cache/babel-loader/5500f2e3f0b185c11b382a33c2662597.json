{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\nexport const initOrder = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  dispatch(startOrder());\n  await api.post(`/users/${user}/orders/`, {\n    params: {\n      plan_membership_id: user.plan_membership_id\n    }\n  }).then(resp => {\n    dispatch(orderSuccess(resp.data));\n  }).catch(error => {\n    dispatch(orderFailed(error));\n  });\n};\nexport const fetchOrders = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  dispatch(startOrder());\n  await api.get(`/users/${user}/orders/`).then(resp => {\n    dispatch(fetchOrderSuccess(resp.data));\n  }).catch(error => {\n    dispatch(orderFailed(error));\n  });\n};\nexport const startOrder = () => {\n  return {\n    type: actionTypes.START_ORDER\n  };\n};\nexport const orderFailed = error => {\n  return {\n    type: actionTypes.ORDER_FAILED,\n    payload: error.message\n  };\n};\nexport const deleteOrder = order_id => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.delete(`users/${user}/orders/`, {\n    params: {\n      user_id: user.value\n    }\n  }).then(dispatch({\n    type: actionTypes.DELETE_ORDER,\n    payload: order_id\n  }));\n};\nexport const orderSuccess = order => {\n  actions.refreshCart();\n  return {\n    type: actionTypes.ORDER_SUCCESS,\n    payload: order\n  };\n};\nexport const fetchOrderSuccess = orders => {\n  return {\n    type: actionTypes.FETCH_ORDER_SUCCESS,\n    payload: orders\n  };\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/OrderActions.js"],"names":["api","actionTypes","actions","initOrder","dispatch","getState","user","auth","userId","startOrder","post","params","plan_membership_id","then","resp","orderSuccess","data","catch","error","orderFailed","fetchOrders","get","fetchOrderSuccess","type","START_ORDER","ORDER_FAILED","payload","message","deleteOrder","order_id","delete","user_id","value","DELETE_ORDER","order","refreshCart","ORDER_SUCCESS","orders","FETCH_ORDER_SUCCESS"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAC3D,MAAIC,IAAI,GAAGD,QAAQ,GAAGE,IAAX,CAAgBC,MAA3B;AACAJ,EAAAA,QAAQ,CAACK,UAAU,EAAX,CAAR;AACA,QAAMT,GAAG,CACNU,IADG,CACG,UAASJ,IAAK,UADjB,EAC4B;AAC9BK,IAAAA,MAAM,EAAE;AACNC,MAAAA,kBAAkB,EAAEN,IAAI,CAACM;AADnB;AADsB,GAD5B,EAMHC,IANG,CAMGC,IAAD,IAAU;AACdV,IAAAA,QAAQ,CAACW,YAAY,CAACD,IAAI,CAACE,IAAN,CAAb,CAAR;AACD,GARG,EASHC,KATG,CASIC,KAAD,IAAW;AAChBd,IAAAA,QAAQ,CAACe,WAAW,CAACD,KAAD,CAAZ,CAAR;AACD,GAXG,CAAN;AAYD,CAfM;AAiBP,OAAO,MAAME,WAAW,GAAG,MAAM,OAAOhB,QAAP,EAAiBC,QAAjB,KAA8B;AAC7D,MAAIC,IAAI,GAAGD,QAAQ,GAAGE,IAAX,CAAgBC,MAA3B;AACAJ,EAAAA,QAAQ,CAACK,UAAU,EAAX,CAAR;AACA,QAAMT,GAAG,CACNqB,GADG,CACE,UAASf,IAAK,UADhB,EAEHO,IAFG,CAEGC,IAAD,IAAU;AACdV,IAAAA,QAAQ,CAACkB,iBAAiB,CAACR,IAAI,CAACE,IAAN,CAAlB,CAAR;AACD,GAJG,EAKHC,KALG,CAKIC,KAAD,IAAW;AAChBd,IAAAA,QAAQ,CAACe,WAAW,CAACD,KAAD,CAAZ,CAAR;AACD,GAPG,CAAN;AAQD,CAXM;AAaP,OAAO,MAAMT,UAAU,GAAG,MAAM;AAC9B,SAAO;AACLc,IAAAA,IAAI,EAAEtB,WAAW,CAACuB;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAML,WAAW,GAAID,KAAD,IAAW;AACpC,SAAO;AACLK,IAAAA,IAAI,EAAEtB,WAAW,CAACwB,YADb;AAELC,IAAAA,OAAO,EAAER,KAAK,CAACS;AAFV,GAAP;AAID,CALM;AAOP,OAAO,MAAMC,WAAW,GAAIC,QAAD,IAAc,OAAOzB,QAAP,EAAiBC,QAAjB,KAA8B;AACrE,MAAIC,IAAI,GAAGD,QAAQ,GAAGE,IAAX,CAAgBC,MAA3B;AACA,QAAMR,GAAG,CACN8B,MADG,CACK,SAAQxB,IAAK,UADlB,EAC6B;AAC/BK,IAAAA,MAAM,EAAE;AACNoB,MAAAA,OAAO,EAAEzB,IAAI,CAAC0B;AADR;AADuB,GAD7B,EAMHnB,IANG,CAMET,QAAQ,CAAC;AAAEmB,IAAAA,IAAI,EAAEtB,WAAW,CAACgC,YAApB;AAAkCP,IAAAA,OAAO,EAAEG;AAA3C,GAAD,CANV,CAAN;AAOD,CATM;AAWP,OAAO,MAAMd,YAAY,GAAImB,KAAD,IAAW;AACrChC,EAAAA,OAAO,CAACiC,WAAR;AACA,SAAO;AACLZ,IAAAA,IAAI,EAAEtB,WAAW,CAACmC,aADb;AAELV,IAAAA,OAAO,EAAEQ;AAFJ,GAAP;AAID,CANM;AAQP,OAAO,MAAMZ,iBAAiB,GAAIe,MAAD,IAAY;AAC3C,SAAO;AACLd,IAAAA,IAAI,EAAEtB,WAAW,CAACqC,mBADb;AAELZ,IAAAA,OAAO,EAAEW;AAFJ,GAAP;AAID,CALM","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\n\nexport const initOrder = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  dispatch(startOrder());\n  await api\n    .post(`/users/${user}/orders/`, {\n      params: {\n        plan_membership_id: user.plan_membership_id\n      }\n    })\n    .then((resp) => {\n      dispatch(orderSuccess(resp.data));\n    })\n    .catch((error) => {\n      dispatch(orderFailed(error));\n    });\n};\n\nexport const fetchOrders = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  dispatch(startOrder());\n  await api\n    .get(`/users/${user}/orders/`)\n    .then((resp) => {\n      dispatch(fetchOrderSuccess(resp.data));\n    })\n    .catch((error) => {\n      dispatch(orderFailed(error));\n    });\n};\n\nexport const startOrder = () => {\n  return {\n    type: actionTypes.START_ORDER,\n  };\n};\n\nexport const orderFailed = (error) => {\n  return {\n    type: actionTypes.ORDER_FAILED,\n    payload: error.message,\n  };\n};\n\nexport const deleteOrder = (order_id) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api\n    .delete(`users/${user}/orders/`, {\n      params: {\n        user_id: user.value,\n      },\n    })\n    .then(dispatch({ type: actionTypes.DELETE_ORDER, payload: order_id }));\n};\n\nexport const orderSuccess = (order) => {\n  actions.refreshCart();\n  return {\n    type: actionTypes.ORDER_SUCCESS,\n    payload: order,\n  };\n};\n\nexport const fetchOrderSuccess = (orders) => {\n  return {\n    type: actionTypes.FETCH_ORDER_SUCCESS,\n    payload: orders,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}