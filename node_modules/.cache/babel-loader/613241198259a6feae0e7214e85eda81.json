{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nexport const initOrder = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  dispatch(startOrder());\n  await api.post(`/users/${user}/orders/`).then(resp => dispatch(orderSuccess(resp.data))).catch(error => {\n    console.log(error);\n    dispatch(orderFailed(error));\n  });\n};\nexport const fetchOrders = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  dispatch(startOrder());\n  await api.get(`/users/${user}/orders/`).then(resp => dispatch(orderSuccess(resp.data))).catch(error => {\n    dispatch(orderFailed(error));\n  });\n};\nexport const startOrder = () => {\n  return {\n    type: actionTypes.START_ORDER\n  };\n};\nexport const orderFailed = error => {\n  return {\n    type: actionTypes.ORDER_FAILED,\n    payload: error\n  };\n};\nexport const deleteOrder = order_id => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  console.log(user, order_id);\n  await api.delete(`users/${user}/orders/`, {\n    params: {\n      user_id: user.value\n    }\n  }).then(dispatch({\n    type: actionTypes.DELETE_ORDER,\n    payload: order_id\n  }));\n};\nexport const orderSuccess = order => {\n  return {\n    type: actionTypes.ORDER_SUCCESS,\n    payload: order\n  };\n};\nexport const fetchOrderSuccess = resp => {\n  return {\n    type: actionTypes.FETCH_ORDER_SUCCESS,\n    payload: resp.data\n  };\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/OrderActions.js"],"names":["api","actionTypes","initOrder","dispatch","getState","user","auth","userId","startOrder","post","then","resp","orderSuccess","data","catch","error","console","log","orderFailed","fetchOrders","get","type","START_ORDER","ORDER_FAILED","payload","deleteOrder","order_id","delete","params","user_id","value","DELETE_ORDER","order","ORDER_SUCCESS","fetchOrderSuccess","FETCH_ORDER_SUCCESS"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAGA,OAAO,MAAMC,SAAS,GAAG,MAAM,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAC3D,MAAIC,IAAI,GAAGD,QAAQ,GAAGE,IAAX,CAAgBC,MAA3B;AACAJ,EAAAA,QAAQ,CAACK,UAAU,EAAX,CAAR;AACA,QAAMR,GAAG,CAACS,IAAJ,CAAU,UAASJ,IAAK,UAAxB,EACLK,IADK,CACAC,IAAI,IAAIR,QAAQ,CAACS,YAAY,CAACD,IAAI,CAACE,IAAN,CAAb,CADhB,EAELC,KAFK,CAECC,KAAK,IAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAZ,IAAAA,QAAQ,CAACe,WAAW,CAACH,KAAD,CAAZ,CAAR;AACD,GALK,CAAN;AAMD,CATM;AAWP,OAAO,MAAMI,WAAW,GAAG,MAAM,OAAOhB,QAAP,EAAiBC,QAAjB,KAA8B;AAC7D,MAAIC,IAAI,GAAGD,QAAQ,GAAGE,IAAX,CAAgBC,MAA3B;AACAJ,EAAAA,QAAQ,CAACK,UAAU,EAAX,CAAR;AACA,QAAMR,GAAG,CAACoB,GAAJ,CAAS,UAASf,IAAK,UAAvB,EACLK,IADK,CACAC,IAAI,IAAIR,QAAQ,CAACS,YAAY,CAACD,IAAI,CAACE,IAAN,CAAb,CADhB,EAELC,KAFK,CAECC,KAAK,IAAI;AACdZ,IAAAA,QAAQ,CAACe,WAAW,CAACH,KAAD,CAAZ,CAAR;AACD,GAJK,CAAN;AAKD,CARM;AAUP,OAAO,MAAMP,UAAU,GAAG,MAAM;AAC9B,SAAO;AACLa,IAAAA,IAAI,EAAEpB,WAAW,CAACqB;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMJ,WAAW,GAAIH,KAAD,IAAW;AACpC,SAAO;AACLM,IAAAA,IAAI,EAAEpB,WAAW,CAACsB,YADb;AAC2BC,IAAAA,OAAO,EAAET;AADpC,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMU,WAAW,GAAIC,QAAD,IAAc,OAAOvB,QAAP,EAAiBC,QAAjB,KAA8B;AACrE,MAAIC,IAAI,GAAGD,QAAQ,GAAGE,IAAX,CAAgBC,MAA3B;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ,EAAkBqB,QAAlB;AACA,QAAM1B,GAAG,CAAC2B,MAAJ,CAAY,SAAQtB,IAAK,UAAzB,EAAoC;AACxCuB,IAAAA,MAAM,EAAE;AACNC,MAAAA,OAAO,EAAExB,IAAI,CAACyB;AADR;AADgC,GAApC,EAKLpB,IALK,CAKAP,QAAQ,CAAC;AAACkB,IAAAA,IAAI,EAAEpB,WAAW,CAAC8B,YAAnB;AAAiCP,IAAAA,OAAO,EAAEE;AAA1C,GAAD,CALR,CAAN;AAMD,CATM;AAWP,OAAO,MAAMd,YAAY,GAAIoB,KAAD,IAAW;AACrC,SAAO;AACLX,IAAAA,IAAI,EAAEpB,WAAW,CAACgC,aADb;AAC4BT,IAAAA,OAAO,EAAEQ;AADrC,GAAP;AAGD,CAJM;AAMP,OAAO,MAAME,iBAAiB,GAAIvB,IAAD,IAAU;AACzC,SAAO;AACLU,IAAAA,IAAI,EAAEpB,WAAW,CAACkC,mBADb;AACkCX,IAAAA,OAAO,EAAEb,IAAI,CAACE;AADhD,GAAP;AAGD,CAJM","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\n\n\nexport const initOrder = () => async (dispatch, getState) => {\n  let user = getState().auth.userId \n  dispatch(startOrder())\n  await api.post(`/users/${user}/orders/`)\n  .then(resp => dispatch(orderSuccess(resp.data)))\n  .catch(error => {\n    console.log(error)\n    dispatch(orderFailed(error))\n  })\n}\n\nexport const fetchOrders = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  dispatch(startOrder())\n  await api.get(`/users/${user}/orders/`)\n  .then(resp => dispatch(orderSuccess(resp.data)))\n  .catch(error => {\n    dispatch(orderFailed(error))\n  });\n}\n\nexport const startOrder = () => {\n  return {\n    type: actionTypes.START_ORDER\n  }\n}\n\nexport const orderFailed = (error) => {\n  return {\n    type: actionTypes.ORDER_FAILED, payload: error\n  }\n}\n\nexport const deleteOrder = (order_id) => async (dispatch, getState) => {\n  let user = getState().auth.userId \n  console.log(user, order_id)\n  await api.delete(`users/${user}/orders/`, {\n    params: {\n      user_id: user.value\n    }\n  })\n  .then(dispatch({type: actionTypes.DELETE_ORDER, payload: order_id}))\n}\n\nexport const orderSuccess = (order) => {\n  return {\n    type: actionTypes.ORDER_SUCCESS, payload: order\n  }\n}\n\nexport const fetchOrderSuccess = (resp) => {\n  return {\n    type: actionTypes.FETCH_ORDER_SUCCESS, payload: resp.data\n  }\n}"]},"metadata":{},"sourceType":"module"}