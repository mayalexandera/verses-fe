{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"../actions/actionTypes\";\nexport const addProductToCart = (user_id, product_id, size) => async (dispatch) => {\n  await api.patch(`/users/${user_id}/cart/add_item`, {\n    product_id: JSON.stringify(product_id),\n    size: size\n  }).then(resp => dispatch({\n    type: actionTypes.ADD_PRODUCT_TO_CART,\n    payload: resp.data\n  }));\n}; // export const initCart = () => async (dispatch, getState) => {\n//   dispatch(startFetchCart())\n//   let user = getState().auth.userId\n//   console.log(user)\n//  await api.get(`/users/${user}/cart`).then(response => {\n//    dispatch(setCart(response.data))\n//  })\n//  .catch((error) => {\n//    dispatch(fetchCartFailed(error))\n//  })\n// }\n\nexport const initCart = user => {\n  // dispatch(startFetchCart());\n  // let user = getState().auth.userId;\n  console.log(user);\n  api.get(`/users/${user}/cart`).then(response => {\n    setCart(response.data);\n  }); // .catch((error) => {\n  //   dispatch(fetchCartFailed(error));\n  // });\n};\nexport const startFetchCart = () => {\n  return {\n    type: actionTypes.START_FETCH_CART\n  };\n};\nexport const fetchCartFailed = () => {\n  return {\n    type: actionTypes.FETCH_CART_FAILED\n  };\n};\nexport const setCart = cart => {\n  return {\n    type: actionTypes.SET_CART,\n    payload: cart\n  };\n};\nexport const removeProductFromCart = (user_id, product_id, size) => async (dispatch) => {\n  await api.patch(`/users/${user_id}/cart/delete_item`, {\n    product_id: JSON.stringify(product_id),\n    size: JSON.stringify(size)\n  }).then(resp => dispatch({\n    type: actionTypes.REMOVE_PRODUCT_FROM_CART,\n    payload: resp.data\n  }));\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/CartActions.js"],"names":["api","actionTypes","addProductToCart","user_id","product_id","size","dispatch","patch","JSON","stringify","then","resp","type","ADD_PRODUCT_TO_CART","payload","data","initCart","user","console","log","get","response","setCart","startFetchCart","START_FETCH_CART","fetchCartFailed","FETCH_CART_FAILED","cart","SET_CART","removeProductFromCart","REMOVE_PRODUCT_FROM_CART"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAO,KAAKC,WAAZ,MAA6B,wBAA7B;AAEA,OAAO,MAAMC,gBAAgB,GAAG,CAACC,OAAD,EAAUC,UAAV,EAAsBC,IAAtB,KAA+B,OAC7DC,QAD6D,KAE1D;AACH,QAAMN,GAAG,CACNO,KADG,CACI,UAASJ,OAAQ,gBADrB,EACsC;AACxCC,IAAAA,UAAU,EAAEI,IAAI,CAACC,SAAL,CAAeL,UAAf,CAD4B;AAExCC,IAAAA,IAAI,EAAEA;AAFkC,GADtC,EAKHK,IALG,CAKGC,IAAD,IACJL,QAAQ,CAAC;AACPM,IAAAA,IAAI,EAAEX,WAAW,CAACY,mBADX;AAEPC,IAAAA,OAAO,EAAEH,IAAI,CAACI;AAFP,GAAD,CANN,CAAN;AAWD,CAdM,C,CAgBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAO,MAAMC,QAAQ,GAAIC,IAAD,IAAU;AAChC;AACA;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAjB,EAAAA,GAAG,CACAoB,GADH,CACQ,UAASH,IAAK,OADtB,EAEGP,IAFH,CAESW,QAAD,IAAc;AAClBC,IAAAA,OAAO,CAACD,QAAQ,CAACN,IAAV,CAAP;AACD,GAJH,EAJgC,CAS9B;AACA;AACA;AACH,CAZM;AAaP,OAAO,MAAMQ,cAAc,GAAG,MAAM;AAClC,SAAO;AACLX,IAAAA,IAAI,EAAEX,WAAW,CAACuB;AADb,GAAP;AAGD,CAJM;AAOP,OAAO,MAAMC,eAAe,GAAG,MAAM;AACnC,SAAO;AACLb,IAAAA,IAAI,EAAEX,WAAW,CAACyB;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMJ,OAAO,GAAIK,IAAD,IAAU;AAC/B,SAAO;AACLf,IAAAA,IAAI,EAAEX,WAAW,CAAC2B,QADb;AAELd,IAAAA,OAAO,EAAEa;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAME,qBAAqB,GAAG,CAAC1B,OAAD,EAAUC,UAAV,EAAsBC,IAAtB,KAA+B,OAClEC,QADkE,KAE/D;AACH,QAAMN,GAAG,CACNO,KADG,CACI,UAASJ,OAAQ,mBADrB,EACyC;AAC3CC,IAAAA,UAAU,EAAEI,IAAI,CAACC,SAAL,CAAeL,UAAf,CAD+B;AAE3CC,IAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAFqC,GADzC,EAKHK,IALG,CAKGC,IAAD,IACJL,QAAQ,CAAC;AACPM,IAAAA,IAAI,EAAEX,WAAW,CAAC6B,wBADX;AAEPhB,IAAAA,OAAO,EAAEH,IAAI,CAACI;AAFP,GAAD,CANN,CAAN;AAWD,CAdM","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"../actions/actionTypes\";\n\nexport const addProductToCart = (user_id, product_id, size) => async (\n  dispatch\n) => {\n  await api\n    .patch(`/users/${user_id}/cart/add_item`, {\n      product_id: JSON.stringify(product_id),\n      size: size,\n    })\n    .then((resp) =>\n      dispatch({\n        type: actionTypes.ADD_PRODUCT_TO_CART,\n        payload: resp.data,\n      })\n    );\n};\n\n// export const initCart = () => async (dispatch, getState) => {\n//   dispatch(startFetchCart())\n//   let user = getState().auth.userId\n//   console.log(user)\n//  await api.get(`/users/${user}/cart`).then(response => {\n//    dispatch(setCart(response.data))\n//  })\n//  .catch((error) => {\n//    dispatch(fetchCartFailed(error))\n//  })\n// }\n\n\nexport const initCart = (user) => {\n  // dispatch(startFetchCart());\n  // let user = getState().auth.userId;\n  console.log(user);\n  api\n    .get(`/users/${user}/cart`)\n    .then((response) => {\n      setCart(response.data);\n    })\n    // .catch((error) => {\n    //   dispatch(fetchCartFailed(error));\n    // });\n}; \nexport const startFetchCart = () => {\n  return {\n    type: actionTypes.START_FETCH_CART,\n  };\n};\n\n\nexport const fetchCartFailed = () => {\n  return {\n    type: actionTypes.FETCH_CART_FAILED,\n  };\n};\n\nexport const setCart = (cart) => {\n  return {\n    type: actionTypes.SET_CART,\n    payload: cart,\n  };\n};\n\nexport const removeProductFromCart = (user_id, product_id, size) => async (\n  dispatch\n) => {\n  await api\n    .patch(`/users/${user_id}/cart/delete_item`, {\n      product_id: JSON.stringify(product_id),\n      size: JSON.stringify(size),\n    })\n    .then((resp) =>\n      dispatch({\n        type: actionTypes.REMOVE_PRODUCT_FROM_CART,\n        payload: resp.data,\n      })\n    );\n};\n\n"]},"metadata":{},"sourceType":"module"}