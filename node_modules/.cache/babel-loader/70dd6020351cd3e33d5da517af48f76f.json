{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"../actions/actionTypes\";\nexport const addProductToCart = (user_id, product_id, size) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.post(`/users/${user_id}/cart/cart_items`, {\n    product_id: JSON.stringify(product_id),\n    size: size\n  }).then(resp => dispatch({\n    type: actionTypes.ADD_PRODUCT_TO_CART,\n    payload: resp.data\n  }));\n};\nexport const initCart = () => async (dispatch, getState) => {\n  dispatch(startFetchCart());\n  let user = getState().auth.userId;\n  console.log(user);\n  await api.get(`/users/${user}/cart`).then(response => {\n    console.log(response);\n    dispatch(setCart(response.data));\n  }).catch(error => {\n    dispatch(fetchCartFailed(error));\n  });\n};\nexport const startFetchCart = () => {\n  return {\n    type: actionTypes.START_FETCH_CART\n  };\n};\nexport const refreshCart = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  await api.delete(`/users/${user}/cart/refresh`).then(response => dispatch(setCart(response)));\n};\nexport const fetchCartFailed = error => {\n  return {\n    type: actionTypes.FETCH_CART_FAILED,\n    payload: error\n  };\n};\nexport const setCart = cart => {\n  console.log(cart);\n  return {\n    type: actionTypes.SET_CART,\n    payload: cart\n  };\n};\nexport const removeProductFromCart = cart_item => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  console.log(\"in removeproductacction\", cart_item);\n  await api.delete(`/users/${user}/cart/cart_items`, {\n    params: {\n      cart_item: cart_item,\n      size_id: cart_item.size_id\n    }\n  }).then(dispatch({\n    type: actionTypes.REMOVE_PRODUCT_FROM_CART,\n    payload: cart_item\n  }));\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/CartActions.js"],"names":["api","actionTypes","addProductToCart","user_id","product_id","size","dispatch","getState","user","auth","userId","post","JSON","stringify","then","resp","type","ADD_PRODUCT_TO_CART","payload","data","initCart","startFetchCart","console","log","get","response","setCart","catch","error","fetchCartFailed","START_FETCH_CART","refreshCart","delete","FETCH_CART_FAILED","cart","SET_CART","removeProductFromCart","cart_item","params","size_id","REMOVE_PRODUCT_FROM_CART"],"mappings":"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","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"../actions/actionTypes\";\n\nexport const addProductToCart = (user_id, product_id, size) => async (dispatch, getState) => {\n  let user = getState().auth.userId\n  await api\n    .post(`/users/${user_id}/cart/cart_items`, {\n      product_id: JSON.stringify(product_id),\n      size: size,\n    })\n    .then((resp) =>\n      dispatch({\n        type: actionTypes.ADD_PRODUCT_TO_CART,\n        payload: resp.data,\n      })\n    );\n};\n\nexport const initCart = () => async (dispatch, getState) => {\n  dispatch(startFetchCart())\n  let user = getState().auth.userId\n  console.log(user)\n await api.get(`/users/${user}/cart`).then(response => {\n   console.log(response)\n   dispatch(setCart(response.data))\n })\n .catch((error) => {\n   dispatch(fetchCartFailed(error))\n })\n}\n\nexport const startFetchCart = () => {\n  return {\n    type: actionTypes.START_FETCH_CART,\n  };\n};\n\nexport const refreshCart = () => async (dispatch, getState) => {\n  let user = getState().auth.userId\n  await api.delete(`/users/${user}/cart/refresh`)\n  .then(response => dispatch(setCart(response)))\n}\nexport const fetchCartFailed = (error) => {\n  return {\n    type: actionTypes.FETCH_CART_FAILED, payload: error\n  };\n};\n\nexport const setCart = (cart) => {\n  console.log(cart)\n  return {\n    type: actionTypes.SET_CART,\n    payload: cart,\n  };\n};\n\nexport const removeProductFromCart = (cart_item) => async (\n  dispatch, getState\n  ) => {\n    let user = getState().auth.userId\n    console.log(\"in removeproductacction\", cart_item)\n  await api\n    .delete(`/users/${user}/cart/cart_items`, { \n      params: {\n        cart_item: cart_item,\n        size_id: cart_item.size_id\n      }})\n    .then(\n      dispatch({\n        type: actionTypes.REMOVE_PRODUCT_FROM_CART,\n        payload: cart_item,\n      })\n    );\n};\n\n"]},"metadata":{},"sourceType":"module"}