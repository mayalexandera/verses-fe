{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport _ from \"lodash\";\nexport const deleteFavorite = (user_id, favorite) => async dispatch => {\n  const response = await api.delete(`/users/${user_id}/favorites/${favorite.id}`).then(data => console.log(data));\n  dispatch({\n    type: actionTypes.DELETE_FAVORITE,\n    payload: response\n  });\n};\nexport const createFavorite = (user_id, product_id) => async dispatch => {\n  const response = await api.post(`/users/${user_id}/favorites`, {\n    member_id: user_id,\n    product_id: product_id\n  });\n  dispatch({\n    type: actionTypes.CREATE_FAVORITE,\n    payload: response.data\n  });\n};\nexport const fetchFavorites = user_id => async dispatch => {\n  const response = await api.get(`/users/${user_id}/favorites`, {\n    member_id: user_id\n  });\n  dispatch({\n    type: actionTypes.FETCH_FAVORITES,\n    payload: response.data\n  });\n};\nexport const fetchUserFavorites = () => async (dispatch, getState) => {\n  await dispatch(fetchFavorites());\n\n  _.chain(getState().favoriteState.favorites).map(\"product_id\").forEach(prod_id => dispatch(fetchProductById(prod_id))).value();\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/HELP/verses_fe-85220142a93b1b708e9311944f3c85a3d9621c1e/src/store/actions/FavoritesActions.js"],"names":["api","actionTypes","_","deleteFavorite","user_id","favorite","dispatch","response","delete","id","then","data","console","log","type","DELETE_FAVORITE","payload","createFavorite","product_id","post","member_id","CREATE_FAVORITE","fetchFavorites","get","FETCH_FAVORITES","fetchUserFavorites","getState","chain","favoriteState","favorites","map","forEach","prod_id","fetchProductById","value"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AACA,OAAOC,CAAP,MAAc,QAAd;AAGA,OAAO,MAAMC,cAAc,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB,MAAMC,QAAN,IAAkB;AACrE,QAAMC,QAAQ,GAAG,MAAMP,GAAG,CAACQ,MAAJ,CAAY,UAASJ,OAAQ,cAAaC,QAAQ,CAACI,EAAG,EAAtD,EAAyDC,IAAzD,CAA8DC,IAAI,IAAIC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAtE,CAAvB;AACAL,EAAAA,QAAQ,CAAC;AAACQ,IAAAA,IAAI,EAAEb,WAAW,CAACc,eAAnB;AAAoCC,IAAAA,OAAO,EAAET;AAA7C,GAAD,CAAR;AACD,CAHM;AAKP,OAAO,MAAMU,cAAc,GAAG,CAACb,OAAD,EAAUc,UAAV,KAAyB,MAAMZ,QAAN,IAAkB;AACvE,QAAMC,QAAQ,GAAG,MAAMP,GAAG,CAACmB,IAAJ,CAAU,UAASf,OAAQ,YAA3B,EAAwC;AAC7DgB,IAAAA,SAAS,EAAEhB,OADkD;AAE7Dc,IAAAA,UAAU,EAAEA;AAFiD,GAAxC,CAAvB;AAIAZ,EAAAA,QAAQ,CAAC;AAACQ,IAAAA,IAAI,EAAEb,WAAW,CAACoB,eAAnB;AAAoCL,IAAAA,OAAO,EAAET,QAAQ,CAACI;AAAtD,GAAD,CAAR;AACD,CANM;AAQP,OAAO,MAAMW,cAAc,GAAIlB,OAAD,IAAa,MAAOE,QAAP,IAAqB;AAC9D,QAAMC,QAAQ,GAAG,MAAMP,GAAG,CAACuB,GAAJ,CAAS,UAASnB,OAAQ,YAA1B,EAAuC;AAC5DgB,IAAAA,SAAS,EAAEhB;AADiD,GAAvC,CAAvB;AAGAE,EAAAA,QAAQ,CAAC;AAAEQ,IAAAA,IAAI,EAAEb,WAAW,CAACuB,eAApB;AAAqCR,IAAAA,OAAO,EAAET,QAAQ,CAACI;AAAvD,GAAD,CAAR;AACD,CALM;AAQP,OAAO,MAAMc,kBAAkB,GAAG,MAAM,OAAOnB,QAAP,EAAiBoB,QAAjB,KAA8B;AACpE,QAAMpB,QAAQ,CAACgB,cAAc,EAAf,CAAd;;AAEApB,EAAAA,CAAC,CAACyB,KAAF,CAAQD,QAAQ,GAAGE,aAAX,CAAyBC,SAAjC,EACCC,GADD,CACK,YADL,EAECC,OAFD,CAESC,OAAO,IAAI1B,QAAQ,CAAC2B,gBAAgB,CAACD,OAAD,CAAjB,CAF5B,EAGCE,KAHD;AAID,CAPM","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport _ from \"lodash\";\n\n\nexport const deleteFavorite = (user_id, favorite) => async dispatch => {\n  const response = await api.delete(`/users/${user_id}/favorites/${favorite.id}`).then(data => console.log(data))\n  dispatch({type: actionTypes.DELETE_FAVORITE, payload: response})\n};\n\nexport const createFavorite = (user_id, product_id) => async dispatch => {\n  const response = await api.post(`/users/${user_id}/favorites`, {\n    member_id: user_id,\n    product_id: product_id\n  })\n  dispatch({type: actionTypes.CREATE_FAVORITE, payload: response.data})\n};\n\nexport const fetchFavorites = (user_id) => async (dispatch,) => {\n  const response = await api.get(`/users/${user_id}/favorites`, {\n    member_id: user_id,\n  });\n  dispatch({ type: actionTypes.FETCH_FAVORITES, payload: response.data });\n};\n\n\nexport const fetchUserFavorites = () => async (dispatch, getState) => {\n  await dispatch(fetchFavorites())\n\n  _.chain(getState().favoriteState.favorites)\n  .map(\"product_id\")\n  .forEach(prod_id => dispatch(fetchProductById(prod_id)))\n  .value()\n}"]},"metadata":{},"sourceType":"module"}