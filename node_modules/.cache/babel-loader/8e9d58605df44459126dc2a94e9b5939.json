{"ast":null,"code":"import api from \"../apis/api\";\nimport _ from \"lodash\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\nexport const fetchProdByBrand = brand_id => async dispatch => {\n  const response = await api.get(`/brands/${brand_id}/products`);\n  dispatch({\n    type: actionTypes.FETCH_PRODUCTS_BY_BRAND,\n    payload: response.data\n  });\n};\nexport const fetchProdByFilter = filter => async dispatch => {\n  await api.get(`/products/`, {\n    params: {\n      filter: filter\n    }\n  }).then(resp => console.log(resp));\n};\nexport const fetchProdByCategory = category => async dispatch => {\n  const response = await api.get(`/products/`, {\n    params: {\n      category: category\n    }\n  });\n  dispatch({\n    type: actionTypes.FETCH_PRODUCTS_BY_CATEGORY,\n    payload: response.data\n  });\n};\nexport const fetchProdBySize = size => async dispatch => {\n  const response = await api.get(`/products/`, {\n    params: {\n      size: size\n    }\n  }).then(dispatch({\n    type: actionTypes.FETCH_PRODUCTS_BY_SIZE,\n    payload: response.data\n  }));\n};\nexport const fetchProductsFailed = () => {\n  return {\n    type: actionTypes.FETCH_PRODUCTS_FAILED\n  };\n};\nexport const setProducts = products => {\n  return {\n    type: actionTypes.SET_PRODUCTS,\n    products: products\n  };\n};\nexport const setShowProduct = product => async dispatch => {\n  console.log(product);\n  dispatch(actions.setBrand(product.brand_id)).then(dispatch(actions.fetchShowProductSizes(product.brand_id, product.id))).then(dispatch({\n    type: actionTypes.SET_SHOW_PRODUCT,\n    payload: product\n  }));\n};\nexport const initProducts = () => async dispatch => {\n  await api.get(`/products/`).then(resp => {\n    dispatch(setProducts(resp.data));\n  }).catch(error => {\n    dispatch(fetchProductsFailed());\n  });\n};\nexport const fetchShowProduct = prod_id => async dispatch => {\n  console.log(\"in fetchSHow\");\n  await api.get(`products/${prod_id}`).then(resp => {\n    dispatch(setShowProduct(resp.data));\n  }).catch(error => {\n    dispatch(fetchProductsFailed());\n  });\n};\nexport const fetchFaveProduct = prod_id => async dispatch => {\n  const response = await api.get(`products/${prod_id}`);\n  dispatch({\n    type: actionTypes.FETCH_FAVE_PROD,\n    payload: response.data\n  });\n}; // export const fetchProdAndBrands = () => async (dispatch, getState) => {\n//   await dispatch(fetchAllProd());\n//   _.chain(getState().products)\n//     .map(\"brand_id\")\n//     .uniq()\n//     .forEach((id) => dispatch(fetchBrand(id)))\n//     .value();\n// };","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/ProductsActions.js"],"names":["api","_","actionTypes","actions","fetchProdByBrand","brand_id","dispatch","response","get","type","FETCH_PRODUCTS_BY_BRAND","payload","data","fetchProdByFilter","filter","params","then","resp","console","log","fetchProdByCategory","category","FETCH_PRODUCTS_BY_CATEGORY","fetchProdBySize","size","FETCH_PRODUCTS_BY_SIZE","fetchProductsFailed","FETCH_PRODUCTS_FAILED","setProducts","products","SET_PRODUCTS","setShowProduct","product","setBrand","fetchShowProductSizes","id","SET_SHOW_PRODUCT","initProducts","catch","error","fetchShowProduct","prod_id","fetchFaveProduct","FETCH_FAVE_PROD"],"mappings":"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","sourcesContent":["import api from \"../apis/api\";\nimport _ from \"lodash\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\n\nexport const fetchProdByBrand = (brand_id) => async (dispatch) => {\n  const response = await api.get(`/brands/${brand_id}/products`);\n  dispatch({\n    type: actionTypes.FETCH_PRODUCTS_BY_BRAND,\n    payload: response.data,\n  });\n};\n\n\nexport const fetchProdByFilter = (filter) => async dispatch => {\n  await api.get(`/products/`, {\n    params: {\n      filter: filter\n    }\n  }).then(resp => console.log(resp))\n}\nexport const fetchProdByCategory = (category) => async (dispatch) => {\n  const response = await api.get(`/products/`, {\n    params: {\n      category: category,\n    },\n  });\n  dispatch({\n    type: actionTypes.FETCH_PRODUCTS_BY_CATEGORY,\n    payload: response.data,\n  });\n};\n\nexport const fetchProdBySize = (size) => async (dispatch) => {\n  const response = await api\n    .get(`/products/`, {\n      params: {\n        size: size,\n      },\n    })\n    .then(\n      dispatch({\n        type: actionTypes.FETCH_PRODUCTS_BY_SIZE,\n        payload: response.data,\n      })\n    );\n};\n\nexport const fetchProductsFailed = () => {\n  return {\n    type: actionTypes.FETCH_PRODUCTS_FAILED,\n  };\n};\n\nexport const setProducts = (products) => {\n  return {\n    type: actionTypes.SET_PRODUCTS,\n    products: products,\n  };\n};\n\nexport const setShowProduct = (product) => async dispatch => {\n  console.log(product);\n  dispatch(actions.setBrand(product.brand_id)).then(\n    dispatch(actions.fetchShowProductSizes(product.brand_id, product.id))\n  ).then(dispatch({type: actionTypes.SET_SHOW_PRODUCT, payload: product}))\n\n};\n\nexport const initProducts = () => async (dispatch) => {\n  await api\n    .get(`/products/`)\n    .then((resp) => {\n      dispatch(setProducts(resp.data));\n    })\n    .catch((error) => {\n      dispatch(fetchProductsFailed());\n    });\n};\n\nexport const fetchShowProduct = (prod_id) => async (dispatch) => {\n  console.log(\"in fetchSHow\");\n  await api\n    .get(`products/${prod_id}`)\n    .then((resp) => {\n      dispatch(setShowProduct(resp.data));\n    })\n    .catch((error) => {\n      dispatch(fetchProductsFailed());\n    });\n};\n\nexport const fetchFaveProduct = (prod_id) => async (dispatch) => {\n  const response = await api.get(`products/${prod_id}`);\n  dispatch({ type: actionTypes.FETCH_FAVE_PROD, payload: response.data });\n};\n\n\n// export const fetchProdAndBrands = () => async (dispatch, getState) => {\n//   await dispatch(fetchAllProd());\n\n//   _.chain(getState().products)\n//     .map(\"brand_id\")\n//     .uniq()\n//     .forEach((id) => dispatch(fetchBrand(id)))\n//     .value();\n// };\n"]},"metadata":{},"sourceType":"module"}