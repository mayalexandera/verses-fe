{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\nimport _ from \"lodash\";\nexport const initFavorites = () => async (dispatch, getState) => {\n  console.log('in init');\n  let user = getState().auth.userId;\n  dispatch(startFetchFavorites());\n  await api.get(`/users/${user}/favorites`).then(resp => {\n    dispatch(setFavorites(resp.data));\n  }).catch(error => {\n    dispatch(fetchFavoritesFailed(error));\n  });\n};\nexport const addFavoriteToCart = (user_id, favorite_id, product_id, size_id) => async (dispatch, getState) => {\n  await api.post(`/users/${user_id}/cart/cart_items`, {\n    params: {\n      user_id: user_id,\n      favorite_id: favorite_id,\n      size_id: size_id,\n      product_id: product_id\n    }\n  }).then(dispatch(deleteFavorite(favorite_id)));\n};\nexport const startFetchFavorites = () => {\n  return {\n    type: actionTypes.START_FETCH_FAVORITES\n  };\n};\nexport const fetchFavoritesFailed = error => {\n  return {\n    type: actionTypes.FETCH_FAVORITES_FAILED,\n    payload: error\n  };\n};\nexport const setFavorites = favorites => {\n  return {\n    type: actionTypes.SET_FAVORITES,\n    payload: favorites\n  };\n};\nexport const deleteFavorite = favorite_id => async (dispatch, getState) => {\n  let user_id = getState().auth.userId;\n  console.log(user_id, favorite_id);\n  await api.delete(`/users/${user_id}/favorites/${favorite_id}`, {\n    params: {\n      user_id: user_id.value\n    }\n  }).then(dispatch({\n    type: actionTypes.DELETE_FAVORITE,\n    payload: favorite_id\n  }));\n  ;\n};\nexport const createFavorite = (user_id, product_id, size) => async dispatch => {\n  console.log(size);\n  await api.post(`/users/${user_id}/favorites`, {\n    member_id: user_id,\n    product_id: product_id,\n    size: size\n  }).then(response => dispatch({\n    type: actionTypes.CREATE_FAVORITE,\n    payload: response.data\n  }));\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/FavoritesActions.js"],"names":["api","actionTypes","actions","_","initFavorites","dispatch","getState","console","log","user","auth","userId","startFetchFavorites","get","then","resp","setFavorites","data","catch","error","fetchFavoritesFailed","addFavoriteToCart","user_id","favorite_id","product_id","size_id","post","params","deleteFavorite","type","START_FETCH_FAVORITES","FETCH_FAVORITES_FAILED","payload","favorites","SET_FAVORITES","delete","value","DELETE_FAVORITE","createFavorite","size","member_id","response","CREATE_FAVORITE"],"mappings":"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","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\n\nimport _ from \"lodash\";\n\nexport const initFavorites = () => async (dispatch, getState) =>{\n  console.log('in init')\n  let user = getState().auth.userId\n  dispatch(startFetchFavorites())\n   await api\n    .get(`/users/${user}/favorites`)\n    .then((resp) => {\n      dispatch(setFavorites(resp.data))\n    })\n    .catch((error) => {\n      dispatch(fetchFavoritesFailed(error))\n    });\n};\n\nexport const addFavoriteToCart = (user_id, favorite_id, product_id, size_id) => async (dispatch, getState) => {\n  await api.post(`/users/${user_id}/cart/cart_items`, {\n    params: {\n      user_id: user_id,\n      favorite_id: favorite_id,\n      size_id: size_id,\n      product_id:  product_id\n    }\n  })\n  .then(dispatch(deleteFavorite(favorite_id)))\n}\n\nexport const startFetchFavorites = () => {\n  return {\n    type: actionTypes.START_FETCH_FAVORITES\n  }\n}\n\nexport const fetchFavoritesFailed = (error) => {\n  return {\n    type: actionTypes.FETCH_FAVORITES_FAILED,\n    payload: error\n  };\n};\n\nexport const setFavorites = (favorites)=> {\n  return {\n    type: actionTypes.SET_FAVORITES,\n    payload: favorites\n  };\n};\n\nexport const deleteFavorite = (favorite_id) => async (dispatch, getState) => {\n  let user_id = getState().auth.userId\nconsole.log(user_id, favorite_id)\n  await api\n    .delete(`/users/${user_id}/favorites/${favorite_id}`, {\n      params: {\n        user_id: user_id.value,\n      },\n    })\n    .then(\n      dispatch({ type: actionTypes.DELETE_FAVORITE, payload: favorite_id })\n    );\n  ;\n};\n\nexport const createFavorite = (user_id, product_id, size)  => async dispatch => {\n  console.log(size)\n  await api\n    .post(`/users/${user_id}/favorites`, {\n      member_id: user_id,\n      product_id: product_id,\n      size: size,\n    })\n    .then(response =>\n      dispatch({ type: actionTypes.CREATE_FAVORITE, payload: response.data })\n    );\n\n};\n"]},"metadata":{},"sourceType":"module"}