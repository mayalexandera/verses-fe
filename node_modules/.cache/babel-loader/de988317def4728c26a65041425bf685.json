{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\nimport _ from \"lodash\";\nexport const initFavorites = user_id => async dispatch => {\n  console.log('in init');\n  dispatch(startFetchFavorites());\n  await api.get(`/users/${user_id}/favorites`).then(resp => {\n    dispatch(setFavorites(resp.data));\n  }).catch(error => {\n    dispatch(fetchFavoritesFailed());\n  });\n};\nexport const startFetchFavorites = () => {\n  return {\n    type: actionTypes.START_FETCH_FAVORITES\n  };\n};\nexport const fetchFavoritesFailed = () => {\n  return {\n    type: actionTypes.FETCH_FAVORITES_FAILED\n  };\n};\nexport const setFavorites = favorites => {\n  // console.log(favorites);\n  // const products = [];\n  //  favorites.map((fave) => products.push({...fave.product}));\n  return {\n    type: actionTypes.SET_FAVORITES,\n    select: favorites,\n    products: products\n  };\n};\nexport const deleteFavorite = favorite_id => async (dispatch, getState) => {\n  let user_id = getState().auth.userId;\n  console.log(user_id);\n  const response = await api.delete(`/users/${user_id}/favorites/${favorite_id}`, {\n    params: {\n      user_id: user_id.value\n    }\n  }).then(data => console.log(data));\n  dispatch({\n    type: actionTypes.DELETE_FAVORITE,\n    payload: favorite_id\n  });\n};\nexport const createFavorite = (user_id, product_id) => async dispatch => {\n  await api.post(`/users/${user_id}/favorites`, {\n    member_id: user_id,\n    product_id: product_id\n  }).then(response => dispatch({\n    type: actionTypes.CREATE_FAVORITE,\n    payload: response.data\n  }));\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/FavoritesActions.js"],"names":["api","actionTypes","actions","_","initFavorites","user_id","dispatch","console","log","startFetchFavorites","get","then","resp","setFavorites","data","catch","error","fetchFavoritesFailed","type","START_FETCH_FAVORITES","FETCH_FAVORITES_FAILED","favorites","SET_FAVORITES","select","products","deleteFavorite","favorite_id","getState","auth","userId","response","delete","params","value","DELETE_FAVORITE","payload","createFavorite","product_id","post","member_id","CREATE_FAVORITE"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;AAEA,OAAOC,CAAP,MAAc,QAAd;AAEA,OAAO,MAAMC,aAAa,GAAIC,OAAD,IAAa,MAAMC,QAAN,IAAiB;AACzDC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAF,EAAAA,QAAQ,CAACG,mBAAmB,EAApB,CAAR;AACC,QAAMT,GAAG,CACPU,GADI,CACC,UAASL,OAAQ,YADlB,EAEJM,IAFI,CAEEC,IAAD,IAAU;AACdN,IAAAA,QAAQ,CAACO,YAAY,CAACD,IAAI,CAACE,IAAN,CAAb,CAAR;AACD,GAJI,EAKJC,KALI,CAKGC,KAAD,IAAW;AAChBV,IAAAA,QAAQ,CAACW,oBAAoB,EAArB,CAAR;AACD,GAPI,CAAN;AASF,CAZM;AAcP,OAAO,MAAMR,mBAAmB,GAAG,MAAM;AACvC,SAAO;AACLS,IAAAA,IAAI,EAAEjB,WAAW,CAACkB;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMF,oBAAoB,GAAG,MAAM;AACxC,SAAO;AACLC,IAAAA,IAAI,EAAEjB,WAAW,CAACmB;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMP,YAAY,GAAIQ,SAAD,IAAc;AACxC;AACA;AACA;AACA,SAAO;AACLH,IAAAA,IAAI,EAAEjB,WAAW,CAACqB,aADb;AAELC,IAAAA,MAAM,EAAEF,SAFH;AAGLG,IAAAA,QAAQ,EAAEA;AAHL,GAAP;AAKD,CATM;AAWP,OAAO,MAAMC,cAAc,GAAIC,WAAD,IAAiB,OAAOpB,QAAP,EAAiBqB,QAAjB,KAA8B;AAC3E,MAAItB,OAAO,GAAGsB,QAAQ,GAAGC,IAAX,CAAgBC,MAA9B;AACFtB,EAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACE,QAAMyB,QAAQ,GAAG,MAAM9B,GAAG,CACvB+B,MADoB,CACZ,UAAS1B,OAAQ,cAAaqB,WAAY,EAD9B,EACiC;AACpDM,IAAAA,MAAM,EAAE;AACN3B,MAAAA,OAAO,EAAEA,OAAO,CAAC4B;AADX;AAD4C,GADjC,EAMpBtB,IANoB,CAMdG,IAAD,IAAUP,OAAO,CAACC,GAAR,CAAYM,IAAZ,CANK,CAAvB;AAOAR,EAAAA,QAAQ,CAAC;AAAEY,IAAAA,IAAI,EAAEjB,WAAW,CAACiC,eAApB;AAAqCC,IAAAA,OAAO,EAAET;AAA9C,GAAD,CAAR;AACD,CAXM;AAaP,OAAO,MAAMU,cAAc,GAAG,CAAC/B,OAAD,EAAUgC,UAAV,KAA0B,MAAM/B,QAAN,IAAkB;AACxE,QAAMN,GAAG,CACNsC,IADG,CACG,UAASjC,OAAQ,YADpB,EACiC;AACnCkC,IAAAA,SAAS,EAAElC,OADwB;AAEnCgC,IAAAA,UAAU,EAAEA;AAFuB,GADjC,EAKH1B,IALG,CAKEmB,QAAQ,IACZxB,QAAQ,CAAC;AAAEY,IAAAA,IAAI,EAAEjB,WAAW,CAACuC,eAApB;AAAqCL,IAAAA,OAAO,EAAEL,QAAQ,CAAChB;AAAvD,GAAD,CANN,CAAN;AASD,CAVM","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\n\nimport _ from \"lodash\";\n\nexport const initFavorites = (user_id) => async dispatch =>{\n  console.log('in init')\n  dispatch(startFetchFavorites())\n   await api\n    .get(`/users/${user_id}/favorites`)\n    .then((resp) => {\n      dispatch(setFavorites(resp.data))\n    })\n    .catch((error) => {\n      dispatch(fetchFavoritesFailed())\n    });\n  \n};\n\nexport const startFetchFavorites = () => {\n  return {\n    type: actionTypes.START_FETCH_FAVORITES\n  }\n}\n\nexport const fetchFavoritesFailed = () => {\n  return {\n    type: actionTypes.FETCH_FAVORITES_FAILED,\n  };\n};\n\nexport const setFavorites = (favorites)=> {\n  // console.log(favorites);\n  // const products = [];\n  //  favorites.map((fave) => products.push({...fave.product}));\n  return {\n    type: actionTypes.SET_FAVORITES,\n    select: favorites,\n    products: products,\n  };\n};\n\nexport const deleteFavorite = (favorite_id) => async (dispatch, getState) => {\n  let user_id = getState().auth.userId\nconsole.log(user_id)\n  const response = await api\n    .delete(`/users/${user_id}/favorites/${favorite_id}`, {\n      params: {\n        user_id: user_id.value\n      }\n    })\n    .then((data) => console.log(data));\n  dispatch({ type: actionTypes.DELETE_FAVORITE, payload: favorite_id });\n};\n\nexport const createFavorite = (user_id, product_id)  => async dispatch => {\n  await api\n    .post(`/users/${user_id}/favorites`, {\n      member_id: user_id,\n      product_id: product_id,\n    })\n    .then(response =>\n      dispatch({ type: actionTypes.CREATE_FAVORITE, payload: response.data })\n    );\n\n};\n"]},"metadata":{},"sourceType":"module"}