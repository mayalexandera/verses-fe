{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\nimport _ from \"lodash\";\nexport const initFavorites = user_id => {\n  api.get(`/users/${user_id}/favorites`).then(resp => {\n    setFavorites(resp.data);\n  }).catch(error => {\n    fetchFavoritesFailed();\n  });\n};\nexport const fetchFavoritesFailed = () => {\n  return {\n    type: actionTypes.FETCH_FAVORITES_FAILED\n  };\n};\nexport const setFavorites = favorites => async dispatch => {\n  console.log(favorites);\n  const products = [];\n  await favorites.map(fave => products.push(fave.product));\n  dispatch({\n    type: actionTypes.SET_FAVORITES,\n    favorites: favorites,\n    products: products\n  });\n};\nexport const deleteFavorite = (user_id, favorite) => async dispatch => {\n  const response = await api.delete(`/users/${user_id}/favorites/${favorite.id}`).then(data => console.log(data));\n  dispatch({\n    type: actionTypes.DELETE_FAVORITE,\n    payload: response\n  });\n};\nexport const createFavorite = (user_id, product_id) => async dispatch => {\n  const response = await api.post(`/users/${user_id}/favorites`, {\n    member_id: user_id,\n    product_id: product_id\n  });\n  dispatch({\n    type: actionTypes.CREATE_FAVORITE,\n    payload: response.data\n  });\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/FavoritesActions.js"],"names":["api","actionTypes","actions","_","initFavorites","user_id","get","then","resp","setFavorites","data","catch","error","fetchFavoritesFailed","type","FETCH_FAVORITES_FAILED","favorites","dispatch","console","log","products","map","fave","push","product","SET_FAVORITES","deleteFavorite","favorite","response","delete","id","DELETE_FAVORITE","payload","createFavorite","product_id","post","member_id","CREATE_FAVORITE"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;AAEA,OAAOC,CAAP,MAAc,QAAd;AAEA,OAAO,MAAMC,aAAa,GAAIC,OAAD,IAAa;AACvCL,EAAAA,GAAG,CACDM,GADF,CACO,UAASD,OAAQ,YADxB,EAEEE,IAFF,CAEQC,IAAD,IAAU;AACdC,IAAAA,YAAY,CAACD,IAAI,CAACE,IAAN,CAAZ;AACD,GAJF,EAKEC,KALF,CAKSC,KAAD,IAAW;AAChBC,IAAAA,oBAAoB;AACrB,GAPF;AAQF,CATM;AAWP,OAAO,MAAMA,oBAAoB,GAAG,MAAM;AACxC,SAAO;AACLC,IAAAA,IAAI,EAAEb,WAAW,CAACc;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMN,YAAY,GAAIO,SAAD,IAAe,MAAOC,QAAP,IAAoB;AAC7DC,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACA,QAAMI,QAAQ,GAAG,EAAjB;AACA,QAAMJ,SAAS,CAACK,GAAV,CAAeC,IAAD,IAAUF,QAAQ,CAACG,IAAT,CAAcD,IAAI,CAACE,OAAnB,CAAxB,CAAN;AACAP,EAAAA,QAAQ,CAAC;AACPH,IAAAA,IAAI,EAAEb,WAAW,CAACwB,aADX;AAEPT,IAAAA,SAAS,EAAEA,SAFJ;AAGPI,IAAAA,QAAQ,EAAEA;AAHH,GAAD,CAAR;AAKD,CATM;AAWP,OAAO,MAAMM,cAAc,GAAG,CAACrB,OAAD,EAAUsB,QAAV,KAAuB,MAAOV,QAAP,IAAoB;AACvE,QAAMW,QAAQ,GAAG,MAAM5B,GAAG,CACvB6B,MADoB,CACZ,UAASxB,OAAQ,cAAasB,QAAQ,CAACG,EAAG,EAD9B,EAEpBvB,IAFoB,CAEdG,IAAD,IAAUQ,OAAO,CAACC,GAAR,CAAYT,IAAZ,CAFK,CAAvB;AAGAO,EAAAA,QAAQ,CAAC;AAAEH,IAAAA,IAAI,EAAEb,WAAW,CAAC8B,eAApB;AAAqCC,IAAAA,OAAO,EAAEJ;AAA9C,GAAD,CAAR;AACD,CALM;AAOP,OAAO,MAAMK,cAAc,GAAG,CAAC5B,OAAD,EAAU6B,UAAV,KAAyB,MAAOjB,QAAP,IAAoB;AACzE,QAAMW,QAAQ,GAAG,MAAM5B,GAAG,CAACmC,IAAJ,CAAU,UAAS9B,OAAQ,YAA3B,EAAwC;AAC7D+B,IAAAA,SAAS,EAAE/B,OADkD;AAE7D6B,IAAAA,UAAU,EAAEA;AAFiD,GAAxC,CAAvB;AAIAjB,EAAAA,QAAQ,CAAC;AAAEH,IAAAA,IAAI,EAAEb,WAAW,CAACoC,eAApB;AAAqCL,IAAAA,OAAO,EAAEJ,QAAQ,CAAClB;AAAvD,GAAD,CAAR;AACD,CANM","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\n\nimport _ from \"lodash\";\n\nexport const initFavorites = (user_id) => {\n   api\n    .get(`/users/${user_id}/favorites`)\n    .then((resp) => {\n      setFavorites(resp.data)\n    })\n    .catch((error) => {\n      fetchFavoritesFailed()\n    });\n};\n\nexport const fetchFavoritesFailed = () => {\n  return {\n    type: actionTypes.FETCH_FAVORITES_FAILED,\n  };\n};\n\nexport const setFavorites = (favorites) => async (dispatch) => {\n  console.log(favorites);\n  const products = [];\n  await favorites.map((fave) => products.push(fave.product));\n  dispatch({\n    type: actionTypes.SET_FAVORITES,\n    favorites: favorites,\n    products: products,\n  });\n};\n\nexport const deleteFavorite = (user_id, favorite) => async (dispatch) => {\n  const response = await api\n    .delete(`/users/${user_id}/favorites/${favorite.id}`)\n    .then((data) => console.log(data));\n  dispatch({ type: actionTypes.DELETE_FAVORITE, payload: response });\n};\n\nexport const createFavorite = (user_id, product_id) => async (dispatch) => {\n  const response = await api.post(`/users/${user_id}/favorites`, {\n    member_id: user_id,\n    product_id: product_id,\n  });\n  dispatch({ type: actionTypes.CREATE_FAVORITE, payload: response.data });\n};\n"]},"metadata":{},"sourceType":"module"}