{"ast":null,"code":"import api from \"../apis/api\";\nimport _ from \"lodash\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\nexport const fetchProdByBrand = brand_id => async dispatch => {\n  await api.get(`/products/`, {\n    params: {\n      brand_id: brand_id\n    }\n  }).then(resp => {\n    console.log(resp);\n    dispatch(setProducts(resp.data));\n  }).catch(err => {\n    dispatch(fetchProductsFailed());\n  });\n};\nexport const fetchProdByCategory = category => async dispatch => {\n  await api.get(`/products/`, {\n    params: {\n      category: category\n    }\n  }).then(resp => {\n    console.log(resp);\n    dispatch(setProducts(resp.data));\n  }).catch(err => {\n    dispatch(fetchProductsFailed(error));\n  });\n};\nexport const fetchProdBySize = size => async dispatch => {\n  await api.get(`/products/`, {\n    params: {\n      size: size\n    }\n  }).then(resp => {\n    console.log(resp);\n    dispatch(setProducts(resp.data));\n  }).catch(err => {\n    dispatch(fetchProductsFailed(error));\n  });\n};\nexport const fetchProductsFailed = error => {\n  return {\n    type: actionTypes.FETCH_PRODUCTS_FAILED,\n    payload: error\n  };\n};\nexport const setProducts = products => {\n  return {\n    type: actionTypes.SET_PRODUCTS,\n    products: products\n  };\n};\nexport const setShowProduct = product => async dispatch => {\n  console.log(product);\n  dispatch(actions.setBrand(product.brand_id)).then(dispatch(actions.fetchShowProductSizes(product.brand_id, product.id))).then(dispatch({\n    type: actionTypes.SET_SHOW_PRODUCT,\n    payload: product\n  }));\n};\nexport const initProducts = () => async dispatch => {\n  await api.get(`/products/`).then(resp => {\n    dispatch(setProducts(resp.data));\n  }).catch(error => {\n    console.log(error);\n    dispatch(fetchProductsFailed(error));\n  });\n};\nexport const fetchShowProduct = prod_id => async dispatch => {\n  console.log(\"in fetchSHow\");\n  await api.get(`products/${prod_id}`).then(resp => {\n    dispatch(setShowProduct(resp.data));\n  }).catch(error => {\n    dispatch(fetchProductsFailed());\n  });\n}; // export const fetchProdAndBrands = () => async (dispatch, getState) => {\n//   await dispatch(fetchAllProd());\n//   _.chain(getState().products)\n//     .map(\"brand_id\")\n//     .uniq()\n//     .forEach((id) => dispatch(fetchBrand(id)))\n//     .value();\n// };","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/ProductsActions.js"],"names":["api","_","actionTypes","actions","fetchProdByBrand","brand_id","dispatch","get","params","then","resp","console","log","setProducts","data","catch","err","fetchProductsFailed","fetchProdByCategory","category","error","fetchProdBySize","size","type","FETCH_PRODUCTS_FAILED","payload","products","SET_PRODUCTS","setShowProduct","product","setBrand","fetchShowProductSizes","id","SET_SHOW_PRODUCT","initProducts","fetchShowProduct","prod_id"],"mappings":"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","sourcesContent":["import api from \"../apis/api\";\nimport _ from \"lodash\";\nimport * as actionTypes from \"./actionTypes\";\nimport * as actions from \"../actions/index\";\n\nexport const fetchProdByBrand = (brand_id) => async (dispatch) => {\n  await api\n    .get(`/products/`, {\n      params: {\n        brand_id: brand_id,\n      },\n    })\n    .then((resp) => {\n      console.log(resp);\n      dispatch(setProducts(resp.data));\n    })\n    .catch((err) => {\n      dispatch(fetchProductsFailed());\n    });\n};\n\nexport const fetchProdByCategory = (category) => async (dispatch) => {\n  await api\n    .get(`/products/`, {\n      params: {\n        category: category,\n      },\n    })\n    .then((resp) => {\n      console.log(resp);\n      dispatch(setProducts(resp.data));\n    })\n    .catch((err) => {\n      dispatch(fetchProductsFailed(error));\n    });\n};\n\nexport const fetchProdBySize = (size) => async (dispatch) => {\n  await api\n    .get(`/products/`, {\n      params: {\n        size: size,\n      },\n    })\n    .then((resp) => {\n      console.log(resp);\n      dispatch(setProducts(resp.data));\n    })\n    .catch((err) => {\n      dispatch(fetchProductsFailed(error));\n    });\n};\n\nexport const fetchProductsFailed = (error) => {\n  return {\n    type: actionTypes.FETCH_PRODUCTS_FAILED, payload: error\n  };\n};\n\nexport const setProducts = (products) => {\n  return {\n    type: actionTypes.SET_PRODUCTS,\n    products: products,\n  };\n};\n\nexport const setShowProduct = (product) => async (dispatch) => {\n  console.log(product);\n  dispatch(actions.setBrand(product.brand_id))\n    .then(dispatch(actions.fetchShowProductSizes(product.brand_id, product.id)))\n    .then(dispatch({ type: actionTypes.SET_SHOW_PRODUCT, payload: product }));\n};\n\nexport const initProducts = () => async (dispatch) => {\n  await api\n    .get(`/products/`)\n    .then((resp) => {\n      dispatch(setProducts(resp.data));\n    })\n    .catch((error) => {\n      console.log(error)\n      dispatch(fetchProductsFailed(error));\n    });\n};\n\nexport const fetchShowProduct = (prod_id) => async (dispatch) => {\n  console.log(\"in fetchSHow\");\n  await api\n    .get(`products/${prod_id}`)\n    .then((resp) => {\n      dispatch(setShowProduct(resp.data));\n    })\n    .catch((error) => {\n      dispatch(fetchProductsFailed());\n    });\n};\n\n// export const fetchProdAndBrands = () => async (dispatch, getState) => {\n//   await dispatch(fetchAllProd());\n\n//   _.chain(getState().products)\n//     .map(\"brand_id\")\n//     .uniq()\n//     .forEach((id) => dispatch(fetchBrand(id)))\n//     .value();\n// };\n"]},"metadata":{},"sourceType":"module"}