{"ast":null,"code":"import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\nexport const userPlanStart = () => {\n  return {\n    type: actionTypes.USER_PLAN_START\n  };\n};\nexport const userPlanDelete = ({\n  type\n}) => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  console.log(type);\n  await api.delete(`/users/${user}/plan_membership`).then(dispatch({\n    type: actionTypes.USER_PLAN_DELETE\n  }));\n};\nexport const initFetchPlans = () => async dispatch => {\n  dispatch(fetchPlansStart());\n  await api.get(`/plans`).then(resp => {\n    dispatch(fetchPlansSuccess(resp.data));\n  }).catch(err => {\n    dispatch(fetchPlansFail(err.message));\n  });\n};\nexport const fetchPlansSuccess = plans => {\n  return {\n    type: actionTypes.FETCH_PLANS_SUCCESS,\n    payload: plans\n  };\n};\nexport const fetchPlansFail = error => {\n  return {\n    type: actionTypes.FETCH_PLANS_FAIL,\n    payload: error\n  };\n};\nexport const fetchPlansStart = () => {\n  return {\n    type: actionTypes.FETCH_PLANS_START\n  };\n};\nexport const fetchUserPlan = () => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  dispatch(userPlanStart());\n  await api.get(`users/${user}`).then(response => {\n    dispatch(userPlanSuccess(response.data.plan_membership));\n  }).catch(err => {\n    dispatch(userPlanFail(err.message));\n  });\n};\nexport const initPlanMembership = plan_id => async (dispatch, getState) => {\n  let user = getState().auth.userId;\n  dispatch(userPlanStart());\n  const planData = {\n    member_id: user.id,\n    plan_id: plan_id\n  };\n  await api.post(`/users/${user}/plan_membership`, planData).then(response => {\n    dispatch(userPlanSuccess(response.data));\n  }).catch(err => {\n    dispatch(userPlanFail(err.message));\n  });\n};\nexport const userPlanSuccess = plan_id => {\n  return {\n    type: actionTypes.USER_PLAN_SUCCESS,\n    payload: plan_id\n  };\n};\nexport const userPlanFail = error => {\n  return {\n    type: actionTypes.USER_PLAN_FAIL,\n    payload: error\n  };\n};","map":{"version":3,"sources":["/Users/mayablevins/Desktop/verses/verses_fe/src/store/actions/PlansActions.js"],"names":["api","actionTypes","userPlanStart","type","USER_PLAN_START","userPlanDelete","dispatch","getState","user","auth","userId","console","log","delete","then","USER_PLAN_DELETE","initFetchPlans","fetchPlansStart","get","resp","fetchPlansSuccess","data","catch","err","fetchPlansFail","message","plans","FETCH_PLANS_SUCCESS","payload","error","FETCH_PLANS_FAIL","FETCH_PLANS_START","fetchUserPlan","response","userPlanSuccess","plan_membership","userPlanFail","initPlanMembership","plan_id","planData","member_id","id","post","USER_PLAN_SUCCESS","USER_PLAN_FAIL"],"mappings":"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","sourcesContent":["import api from \"../apis/api\";\nimport * as actionTypes from \"./actionTypes\";\n\nexport const userPlanStart = () => {\n return { type: actionTypes.USER_PLAN_START}\n}\n\nexport const userPlanDelete = ({type}) => async (dispatch, getState) => {\n  let user = getState().auth.userId\n  console.log(type)\n  await api.delete(`/users/${user}/plan_membership`)\n  .then(dispatch({\n    type: actionTypes.USER_PLAN_DELETE,\n  })\n  )\n};\n\nexport const initFetchPlans = () => async (dispatch) => {\n  dispatch(fetchPlansStart())\n  await api.get(`/plans`)\n  .then(resp => {\n    dispatch(fetchPlansSuccess(resp.data))\n  })\n  .catch(err => {\n    dispatch(fetchPlansFail(err.message))\n  })\n}\n\nexport const fetchPlansSuccess = (plans)=> {\n  return{\n    type: actionTypes.FETCH_PLANS_SUCCESS, payload: plans\n  }\n}\n\nexport const fetchPlansFail = (error) => {\n  return {\n    type: actionTypes.FETCH_PLANS_FAIL, payload: error\n  }\n}\n\nexport const fetchPlansStart = () => {\n  return { type: actionTypes.FETCH_PLANS_START }\n}\n\nexport const fetchUserPlan = () => async (dispatch, getState) => {\n  let user = getState().auth.userId\n  dispatch(userPlanStart())\n  await api\n  .get(`users/${user}`)\n  .then(response => {\n    dispatch(userPlanSuccess(response.data.plan_membership))\n  })\n  .catch(err => {\n    dispatch(userPlanFail(err.message))\n  })\n}\n\nexport const initPlanMembership = (plan_id) => async (dispatch, getState) =>{\n  let user = getState().auth.userId\n  dispatch(userPlanStart());\n  const planData = {\n    member_id: user.id,\n    plan_id: plan_id\n  }\n  await api\n  .post(`/users/${user}/plan_membership`, planData)\n  .then(response => {\n    dispatch(userPlanSuccess(response.data))\n  })\n  .catch(err => {\n    dispatch(userPlanFail(err.message))\n  })\n }\n\nexport const userPlanSuccess = (plan_id) => {\n  return {\n   type: actionTypes.USER_PLAN_SUCCESS, payload: plan_id\n  }\n}\n\nexport const userPlanFail = (error) => {\n  return {\n    type: actionTypes.USER_PLAN_FAIL, payload: error\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}